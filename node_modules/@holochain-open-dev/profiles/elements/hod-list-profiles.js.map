{"version":3,"file":"hod-list-profiles.js","sourceRoot":"","sources":["../../src/elements/hod-list-profiles.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,GAAG,EAAE,IAAI,EAAS,QAAQ,EAAkB,MAAM,aAAa,CAAC;AAEzE,OAAO,EAAE,IAAI,EAAE,MAAM,qCAAqC,CAAC;AAC3D,OAAO,EAAE,QAAQ,EAAE,MAAM,0CAA0C,CAAC;AACpE,OAAO,MAAM,MAAM,gCAAgC,CAAC;AAGpD,OAAO,EAAE,YAAY,EAAE,MAAM,iBAAiB,CAAC;AAC/C,OAAO,EAAE,WAAW,EAAE,MAAM,gBAAgB,CAAC;AAC7C,OAAO,EAAE,gBAAgB,EAAE,MAAM,kDAAkD,CAAC;AAEpF,MAAM,OAAO,eAAgB,SAAQ,WAAW;IAAhD;QACE,yBAAyB;;QAGzB,iBAAY,GAAoC,SAAS,CAAC;IAsE5D,CAAC;IApEC,MAAM,KAAK,MAAM;QACf,OAAO;YACL,YAAY;YACZ,GAAG,CAAA;;;;OAIF;SACF,CAAC;IACJ,CAAC;IACD,OAAO,CAAC,aAA6B;QACnC,KAAK,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;QAC7B,IACE,aAAa,CAAC,GAAG,CAAC,iBAAiB,CAAC;YACpC,IAAI,CAAC,eAAe,CAAC,YAAY,EACjC;YACA,IAAI,CAAC,UAAU,EAAE,CAAC;SACnB;IACH,CAAC;IAED,KAAK,CAAC,UAAU;QACd,IAAI,CAAC,YAAY,GAAG,MAAM,IAAI,CAAC,gBAAgB,CAAC,cAAc,EAAE,CAAC;IACnE,CAAC;IAED,QAAQ,CAAC,QAAgB;QACvB,OAAO,QAAQ;aACZ,KAAK,CAAC,GAAG,CAAC;aACV,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;aACpB,IAAI,CAAC,EAAE,CAAC,CAAC;IACd,CAAC;IAED,MAAM;QACJ,IAAI,CAAC,IAAI,CAAC,YAAY;YACpB,OAAO,IAAI,CAAA;;aAEJ,CAAC;QACV,IAAI,IAAI,CAAC,YAAY,CAAC,MAAM,KAAK,CAAC;YAChC,OAAO,IAAI,CAAA;;QAET,CAAC;QAEL,OAAO,IAAI,CAAA;QACP,IAAI,CAAC,YAAY,CAAC,GAAG,CACrB,KAAK,CAAC,EAAE,CAAC,IAAI,CAAA;;qDAEgC,KAAK,CAAC,aAAa;;;yBAG/C,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,MAAM;2BACzB,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC;;;gDAGhB,KAAK,CAAC,OAAO,CAAC,QAAQ;;;SAG7D,CACF;KACF,CAAC;IACJ,CAAC;IAED,MAAM,KAAK,cAAc;QACvB,OAAO;YACL,YAAY,EAAE,MAAM;YACpB,uBAAuB,EAAE,gBAAgB;YACzC,UAAU,EAAE,IAAI;YAChB,eAAe,EAAE,QAAQ;SAC1B,CAAC;IACJ,CAAC;CACF;AAtEC;IADC,QAAQ,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC;qDACgC","sourcesContent":["import { css, html, query, property, PropertyValues } from 'lit-element';\n\nimport { List } from 'scoped-material-components/mwc-list';\nimport { ListItem } from 'scoped-material-components/mwc-list-item';\nimport Avatar from '@ui5/webcomponents/dist/Avatar';\n\nimport { AgentProfile, Profile } from '../types';\nimport { sharedStyles } from '../sharedStyles';\nimport { BaseElement } from './base-element';\nimport { CircularProgress } from 'scoped-material-components/mwc-circular-progress';\n\nexport class HodListProfiles extends BaseElement {\n  /** Private properties */\n\n  @property({ type: Array })\n  _allProfiles: Array<AgentProfile> | undefined = undefined;\n\n  static get styles() {\n    return [\n      sharedStyles,\n      css`\n        :host {\n          display: flex;\n        }\n      `,\n    ];\n  }\n  updated(changedValues: PropertyValues) {\n    super.updated(changedValues);\n    if (\n      changedValues.has('membraneContext') &&\n      this.membraneContext.appWebsocket\n    ) {\n      this.loadAgents();\n    }\n  }\n\n  async loadAgents() {\n    this._allProfiles = await this._profilesService.getAllProfiles();\n  }\n\n  initials(nickname: string): string {\n    return nickname\n      .split(' ')\n      .map(name => name[0])\n      .join('');\n  }\n\n  render() {\n    if (!this._allProfiles)\n      return html`<div class=\"fill center-content\">\n        <mwc-circular-progress indeterminate></mwc-circular-progress>\n      </div>`;\n    if (this._allProfiles.length === 0)\n      return html`<mwc-list-item\n        >There are no created profiles yet</mwc-list-item\n      >`;\n\n    return html`\n      ${this._allProfiles.map(\n        agent => html`\n          <mwc-list style=\"min-width: 80px;\">\n            <mwc-list-item graphic=\"avatar\" .value=${agent.agent_pub_key}>\n              <ui5-avatar\n                slot=\"graphic\"\n                image=\"${agent.profile.fields.avatar}\"\n                initials=${this.initials(agent.profile.nickname)}\n                size=\"XS\"\n              ></ui5-avatar>\n              <span style=\"margin-left: 8px;\">${agent.profile.nickname}</span>\n            </mwc-list-item>\n          </mwc-list>\n        `\n      )}\n    `;\n  }\n\n  static get scopedElements() {\n    return {\n      'ui5-avatar': Avatar,\n      'mwc-circular-progress': CircularProgress,\n      'mwc-list': List,\n      'mwc-list-item': ListItem,\n    };\n  }\n}\n"]}